<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MBTI 测试</title>
<script src="mbti.js"></script>

<style>
body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Helvetica Neue",sans-serif;
background:#ffffff;
display:flex;
justify-content:center;
align-items:center;
min-height:100vh;
}

.container{
width:680px;
text-align:center;
}

.progress{
font-size:14px;
color:#8e8e93;
margin-bottom:40px;
}

.question{
font-size:24px;
margin-bottom:80px;
line-height:1.6;
}

.scale-guide{
font-size:13px;
color:#8e8e93;
margin-bottom:20px;
}

.options{
display:flex;
justify-content:space-between;
}

.btn{
width:52px;
height:52px;
border-radius:50%;
border:1px solid #d2d2d7;
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
transition:.2s;
}

.btn:hover{
background:#000;
color:#fff;
}
</style>
</head>

<body>

<div class="container">

<div class="progress" id="progress"></div>

<div class="question" id="question"></div>

<div class="scale-guide">
1 = 非常不同意 ｜ 3 = 中立 ｜ 5 = 非常同意
</div>

<div class="options">
<div class="btn" onclick="answer(1)">1</div>
<div class="btn" onclick="answer(2)">2</div>
<div class="btn" onclick="answer(3)">3</div>
<div class="btn" onclick="answer(4)">4</div>
<div class="btn" onclick="answer(5)">5</div>
</div>

</div>

<script>
let currentIndex=0;
let scores={E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};

function loadQuestion(){
document.getElementById("question").innerText=questions[currentIndex].text;
document.getElementById("progress").innerText=(currentIndex+1)+" / "+questions.length;
}

function answer(val){
let dim=questions[currentIndex].dimension;
let opposite={E:"I",S:"N",T:"F",J:"P"}[dim];
let score=val-3;
if(score>0){scores[dim]+=score;}
if(score<0){scores[opposite]+=Math.abs(score);}
currentIndex++;
if(currentIndex<questions.length){
loadQuestion();
}else{
localStorage.setItem("mbtiScores",JSON.stringify(scores));
window.location.href="result.html";
}
}
loadQuestion();
</script>

</body>
</html>
