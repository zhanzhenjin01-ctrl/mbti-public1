<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MBTI 测试</title>
<script src="mbti.js"></script>
<style>
body{font-family:-apple-system;background:#f5f6f8;display:flex;justify-content:center;}
.container{max-width:800px;margin:60px auto;background:#fff;padding:40px;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,0.05);}
.question{font-size:20px;margin:30px 0;text-align:center;}
.scale{display:flex;justify-content:space-between;}
.option{width:50px;height:50px;border-radius:50%;border:1px solid #ccc;display:flex;align-items:center;justify-content:center;cursor:pointer;}
.option:hover{background:#111;color:#fff;}
.progress{text-align:center;color:#888;margin-bottom:20px;}
</style>
</head>
<body>

<div class="container">
<div class="progress" id="progress"></div>
<div class="question" id="question"></div>
<div class="scale">
<div class="option" onclick="answer(1)">1</div>
<div class="option" onclick="answer(2)">2</div>
<div class="option" onclick="answer(3)">3</div>
<div class="option" onclick="answer(4)">4</div>
<div class="option" onclick="answer(5)">5</div>
</div>
</div>

<script>

let currentIndex=0;
let scores={E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};

function loadQuestion(){
document.getElementById("question").innerText=questions[currentIndex].text;
document.getElementById("progress").innerText="第 "+(currentIndex+1)+" / 48 题";
}

function answer(val){
let dim=questions[currentIndex].dimension;
let opposite={E:"I",S:"N",T:"F",J:"P"}[dim];
let score=val-3;
if(score>0){scores[dim]+=score;}
if(score<0){scores[opposite]+=Math.abs(score);}
currentIndex++;

if(currentIndex<48){
loadQuestion();
}else{
localStorage.setItem("mbtiScores",JSON.stringify(scores));
window.location.href="result.html";
}
}

loadQuestion();

</script>

</body>
</html>
